<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Client</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" rel="stylesheet">
    <script crossorigin="anonymous"
            integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
    <meta content="#7952b3" name="theme-color">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }



















    </style>

</head>
<body>
<div class="container-fluid">
    <div class="container-fluid">
        <div class="row">
            <div class="d-flex flex-column bd-highlight mb-3">
                <a class="btn btn-primary btn-sm" href="/" type="button"> Начальная страница </a>
                <a class="btn btn-primary btn-sm" href="/admin/offers" type="button"> Вернутся к кредитным предожениям </a>
            </div>
        </div>
    </div>
</div>
<H2>Данные о предложении</H2>
<p th:text="${'Сумма предложения: ' + offer.creditAmount}"></p>
<hr>
<h3>Изменить данные</h3>
<form method="post" th:action="${'/admin/offers/'+offer.id}">
    <p>Клиент <select name="clientId">
        <option th:each="client : ${clients}"
                th:text="${client.foolName}"
                th:value="${client.id}"
                th:selected="${client.id=clientOffer.id}"></option>
    </select>
    <p>Выбрать кредит <select name="creditId">
        <option th:each="credit : ${credits}"
                th:value="${credit.id}"
                th:text="${credit.name}"
                th:selected="${credit.id=creditOffer.id}"></option>
    </select>
    <p>Сумма кредита <input name="creditAmount" th:value="${offer.creditAmount}">
    <p>
        <button name="submit">Изменить</button>
</form>
<hr>
<h3>Удалить</h3>
<form method="post" th:action="${'/admin/offers/'+offer.id+'/remove'}">
    <button name="submit">Удалить</button>
</form>
<HR>
<div class="col-sm-10">
    <h4>График платежей:</h4>
    <div class="row row-cols-1 row-cols-md-4 g-4">
        <div class="col-sm-3" th:each="pay: ${offer.creditPayments}">
            <div class="card">
                <div class="card-body">
                    <h6 class="card-title">Дата платежа: <p th:text="${pay.paymentDate}"></h6>
                    <p class="card-text" th:text="${'Сумма платежа: '+pay.amountPayment}"></p>
                    <p class="card-text" th:text="${'Сумма погашения кредита: '+pay.repaymentLoanBody}"></p>
                    <p class="card-text" th:text="${'Сумма погашения процентов: '+pay.interestRepayment}"></p>
                    <hr>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>